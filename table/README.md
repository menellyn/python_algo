## РЕАЛИЗАЦИЯ ТАБЛИЦЫ С ДВУМЯ ПРОСТРАНСТВАМИ КЛЮЧЕЙ

### Ключами являются: 

"an unsigned integer" - в первом пространстве ключей;
"a string with variable length (null-terminated)" - во втором пространстве ключей.
  
Информация представляет собой:
"a record of two integer numbers and a string with variable length (null-terminated)".

---

### Каждый элемент таблицы имеет следующую структуру:

```

struct Item{
		InfoType *info;		
		/* указатель на информацию					*/

/*	а также может содержать опциональные поля, для оптимизации выполнения операций, 	*/
/*	при этом их состав и наличие выбираются исходя из целесообразности, 			*/
/*	среди данных полей могут быть:								*/

		KeyType1 	key1;	
		/* ключ элемента из 1-го пространства ключей;			*/
		KetType2 	key2;	
		/* ключ элемента из 2-го пространства ключей;			*/
		IndexType1 	ind1;	
		/* связь с элементом 1-го пространства ключей по индексу;	*/
		IndexType2 	ind2;	
		/* связь с элементом 2-го пространства ключей по индексу;	*/
		PointerType1	*p1;	
		/* связь с элементом 2-го пространства ключей по указателю;	*/
		PointerType2	*p2;	
		/* связь с элементом 2-го пространства ключей по указателю;	*/

};

```

В таблице не может быть двух элементов с одинаковыми составными ключами (key1, key2).

---

### Первое пространство ключей
организовано как просматриваемая таблица, организованная вектором;
каждый элемент таблицы имеет следующую структуру:

```

struct KeySpace1{
		KeyType1 key;			/* ключ элемента, не может быть 0		*/
		KeyType1 par;			/* ключ родительского элемента			*/
		Item *info;			/* указатель на информацию			*/
};

```

Максимальный размер пространства ключей ограничен msize1, определяемый при инициализации таблицы.
В пространстве не может быть двух элементов с одинаковыми ключами и значение ключа родительского элемента
для элемента должно совпадать с каким-нибудь значением ключа элемента,
существующего в таблице, или быть равным 0. Элементы таблицы упорядочены по значению 
ключа родительского элемента. Значение ключа родительского элемента может дублироваться в таблице.

** В данном пространстве ключей предусмотрены следующие особые операции: **
-	удаление из таблицы элемента, заданного своим ключом, при условии, 
что в таблице нет элементов, в поле ключа родительского элемента которых указано значение, 
совпадающее с заданным;
-	поиск в таблице всех элементов, заданных значением ключа родительского элемента; 
результатом поиска должна быть новая таблица, содержащая найденные элементы.

---

### Второе пространство ключей 
организовано как перемешанная таблица, использующая перемешивание сцеплением.
Перемешанная таблица представлена массивом указателей на элементы таблицы, имеющие следующую структуру:

```

struct KeySpace2{
		KeyType2 key;		/* ключ элемента			*/
		RelType2 release;	/* номер версии элемента		*/
		Node2 *node;		/* указатель на информацию		*/
		KeySpace2 *next;	/* указатель на следующий элемент	*/

};

```

### Указатель на информацию 
определяет список элементов с одинаковыми значениями ключей. 
Элемент списка имеет следующую структуру:

```

struct Node2{
		RelType2 release;	/* номер версии элемента		*/
		InfoType *info;		/* указатель на информацию		*/
		Node2 *next; 		/* указатель на следующий элемент	*/
};

```


Максимальный размер массива указателей ограничен msize2, определяемый при инициализации таблицы. 
В пространстве могут находиться несколько элементов с одинаковыми ключами и разными номерами версий 
(номер версии элемента формируется как порядковый номер элемента в последовательности элементов 
с одинаковыми ключами, определяемый при включении элемента в таблицу).

** В данном пространстве ключей предусмотрены следующие особые операции: ** 
-	поиск в таблице всех версий элемента, заданного ключом, или конкретной (заданной) версии элемента, 
также заданного своим ключом. Результатом поиска должна быть новая таблица, содержащая найденные элементы;
-	удаление из таблицы элемента, заданного своим ключом и номером версии.

---

### Таблица задается структурой:

```

struct Table{
		KeySpace1 	*ks1;	
		/* указатель на первое пространство ключей			*/
		KeySpace2 	*ks2;
		/* указатель на второе пространство ключей			*/
/*также может содержать опциональные поля, ограничивающие размер пространства ключей		*/
/*при этом их наличие определяется типом организации соответствующего пространства, 		*/
/*(см. предыдущие пункт задания):								*/

		IndexType1 	msize1;
		/* размер области 1-го пространства ключей 			*/
		IndexType2 	msize2;
		/* размер области 2-го пространства ключей 			*/

/*также может содержать опциональные поля с текущим количеством элементов в пространстве ключей	*/
/*при этом их наличие определяется типом организации соответствующего пространства, 		*/
/*(см. предыдущие пункт задания):								*/

		IndexType1 	сsize1;
		/* количество элементов в области 1-го пространства ключей	*/
		IndexType2 	сsize2;
		/* количество элементов в области 1-го пространства ключей	*/
};

```

** Предусмотреть следующие операции: **
-	включение нового элемента в таблицу с соблюдением ограничений на уникальность ключей в 
соответствующих ключевых пространствах (см. предыдущие пункты задания) и уникальности 
составного ключа (key1, key2);
-	поиск в таблице элемента, заданного составным ключом;
-	удаление из таблицы элемента, заданного составным ключом;
-	поиск в таблице элемента по любому заданному ключу; 
результатом поиска должна быть копии всех найденных элементов со значениями ключей;  
-	удаление из таблицы всех элементов, заданного ключом в одном из ключевых пространств;
-	вывод содержимого таблицы на экран (или текстовый файл); 
при этом формат вывода должен соответствовать приведенной выше структуре элемента таблицы;
-	особые операции, определяемые в соответствующем пространстве ключей.